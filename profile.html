<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tin tài khoản - BookSelf</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <script src="data.js"></script>
    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script src="load-components.js"></script>
    
    <div id="header-placeholder"></div>

    <main>
        <div class="container">
            <div class="profile-page">
                <!-- Breadcrumb -->
                <nav class="breadcrumb">
                    <a href="index.html">Trang chủ</a>
                    <span>/</span>
                    <span>Thông tin tài khoản</span>
                </nav>

                <div class="profile-content">
                    <!-- Profile Sidebar -->
                    <aside class="profile-sidebar">
                        <div class="profile-menu">
                            <div class="profile-info">
                                <div class="profile-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h3 id="profileName">Tên người dùng</h3>
                                <p id="profileEmail">email@example.com</p>
                            </div>
                            <ul class="profile-nav">
                                <li class="profile-nav-item active" data-section="info">
                                    <a href="#info">
                                        <i class="fas fa-user"></i>
                                        <span>Thông tin cá nhân</span>
                                    </a>
                                </li>
                                <li class="profile-nav-item" data-section="orders">
                                    <a href="#orders">
                                        <i class="fas fa-shopping-bag"></i>
                                        <span>Đơn hàng của tôi</span>
                                    </a>
                                </li>
                                <li class="profile-nav-item" data-section="wishlist">
                                    <a href="#wishlist">
                                        <i class="fas fa-heart"></i>
                                        <span>Danh sách yêu thích</span>
                                    </a>
                                </li>
                                <li class="profile-nav-item" data-section="reviews">
                                    <a href="#reviews">
                                        <i class="fas fa-star"></i>
                                        <span>Đánh giá của tôi</span>
                                    </a>
                                </li>
                                <li class="profile-nav-item" data-section="chat">
                                    <a href="#chat">
                                        <i class="fas fa-comments"></i>
                                        <span>Chat với nhân viên</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </aside>

                    <!-- Profile Main Content -->
                    <div class="profile-main">
                        <!-- Personal Info Section -->
                        <section id="info" class="profile-section active">
                            <div class="section-header">
                                <h2>Thông tin cá nhân</h2>
                                <button class="btn btn-primary" onclick="toggleEditMode()">
                                    <i class="fas fa-edit"></i>
                                    Chỉnh sửa
                                </button>
                            </div>

                            <div class="profile-form">
                                <form id="profileForm">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="profileNameInput">Họ và tên *</label>
                                            <input type="text" id="profileNameInput" name="name" required readonly>
                                        </div>
                                        <div class="form-group">
                                            <label for="profileEmailInput">Email *</label>
                                            <input type="email" id="profileEmailInput" name="email" required readonly>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="profilePhoneInput">Số điện thoại *</label>
                                            <input type="tel" id="profilePhoneInput" name="phone" required readonly>
                                        </div>
                                        <div class="form-group">
                                            <label for="profileBirthdayInput">Ngày sinh</label>
                                            <input type="date" id="profileBirthdayInput" name="birthday" readonly>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="profileAddressInput">Địa chỉ</label>
                                        <textarea id="profileAddressInput" name="address" rows="3" readonly></textarea>
                                    </div>
                                    <div class="form-actions" style="display: none;">
                                        <button type="button" class="btn btn-secondary" onclick="cancelEdit()">Hủy</button>
                                        <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
                                    </div>
                                </form>
                            </div>

                            <!-- Change Password Section -->
                            <div class="password-section">
                                <h3>Đổi mật khẩu</h3>
                                <form id="changePasswordForm">
                                    <div class="form-group">
                                        <label for="currentPassword">Mật khẩu hiện tại *</label>
                                        <input type="password" id="currentPassword" name="currentPassword" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="newPassword">Mật khẩu mới *</label>
                                        <input type="password" id="newPassword" name="newPassword" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="confirmNewPassword">Xác nhận mật khẩu mới *</label>
                                        <input type="password" id="confirmNewPassword" name="confirmNewPassword" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Đổi mật khẩu</button>
                                </form>
                            </div>
                        </section>

                        <!-- Orders Section -->
                        <section id="orders" class="profile-section">
                            <div class="section-header">
                                <h2>Đơn hàng của tôi</h2>
                            </div>
                            <div class="orders-list" id="ordersList">
                                <!-- Dynamic content -->
                            </div>
                        </section>

                        <!-- Wishlist Section -->
                        <section id="wishlist" class="profile-section">
                            <div class="section-header">
                                <h2>Danh sách yêu thích</h2>
                            </div>
                            <div class="wishlist-grid" id="wishlistGrid">
                                <!-- Dynamic content -->
                            </div>
                        </section>

                        <!-- Reviews Section -->
                        <section id="reviews" class="profile-section">
                            <div class="section-header">
                                <h2>Đánh giá của tôi</h2>
                            </div>
                            <div class="reviews-list" id="reviewsList">
                                <div class="empty-state">
                                    <i class="fas fa-star"></i>
                                    <h3>Chưa có đánh giá nào</h3>
                                    <p>Bạn chưa đánh giá sản phẩm nào. Hãy mua sắm và chia sẻ trải nghiệm của bạn!</p>
                                    <a href="index.html" class="btn btn-primary">Mua sắm ngay</a>
                                </div>
                            </div>
                        </section>

                        <!-- Chat Section -->
                        <section id="chat" class="profile-section">
                            <div class="section-header">
                                <h2>Chat với nhân viên</h2>
                            </div>
                            <div class="chat-container">
                                <div class="chat-messages" id="chatMessages">
                                    <div class="chat-message bot-message">
                                        <div class="message-avatar">
                                            <i class="fas fa-robot"></i>
                                        </div>
                                        <div class="message-content">
                                            <p>Xin chào! Tôi là trợ lý AI của BookSelf. Tôi có thể giúp bạn tìm sách, giải đáp thắc mắc về đơn hàng, hoặc hỗ trợ các vấn đề khác. Bạn cần hỗ trợ gì?</p>
                                            <span class="message-time">Vừa xong</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="chat-input">
                                    <input type="text" id="chatInput" placeholder="Nhập tin nhắn của bạn...">
                                    <button id="sendMessageBtn">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>
    <div id="chatbot-placeholder"></div>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script src="profile.js"></script>
</body>
</html>